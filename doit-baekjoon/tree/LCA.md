# LCA(Lowest Common Ancestor) 최소 공통 조상
- 트리 그래프에서 임의의 두 노드를 선택했을 때 두 노드가 각각 자신을 포함해 거슬러 올라가면서 부모노드를 탐색할 때
- 처음 공통으로 만나게 되는 부모 노드
1. **일반적**으로 구하는 방법
2. 빠르게 찾는 방법
- 트리의 높이에 밀접한 관계가 있는 시간복잡도

# 최소 공통 조상의 핵심 이론
## 일반적인 최소 공통 조상 구하기
- 트리의 높이가 크지 않을 때 사용(=시간복잡도, 시간 제한 타이트하지 않음)
1. 루트 노드에서 탐색을 시작해 각 노드의 **부모 노드**와 **깊이** 저장
   - 이때 탐색은 DFS(깊이)나 BFS(직전 탐색노드=부모 노드)를 이용해 수행
   **- 바로 직전 탐색노드가 부모노드가 됨**
   **- 탐색을 하며 depth를 쉽게 구할 수 있음**
- 트리 구조 잡기
  - index \[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]
  - 부모노드 \[0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 11, 11] # 루트노드는 0
  - 깊이 \[1, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 5, 5] # 깊이는 1부터 BFS - queue
2. 선택된 두 높이의 깊이가 다른 경우, 더 깊은 노드의 노드를 부모 노드로 1개씩 올려주면서 **같은 깊이로 맞춤**
- 두 노드가 같으면 해당 노드가 최소 공통 조상이므로 탐색 종료
- ex) LCA(4, 15)를 구할 때, 한칸 씩 부모노드로 올라가면서 확인
3. 깊이를 같은 것으로 맞추었다면 동시에 부모 노드로 올라가면서 두 노드가 같은 노드가 될 때까지 반복
- 두개가 동시에 부모노드를 보고 다른 노드이면 한칸 더 올라감
- 같은 노드가 될때 반복 종료 LCA(4, 15) = 1

# 정리
1. 부모노드 & 깊이 저장 - 인접리스트로 트리 데이터 구현하기
2. 탐색 알고리즘 (DFS, BFS)를 이용해 각 노드 깊이를 구함.
3. 깊이를 맞추기 위해 더 깊은 노드를 같은 깊이가 될 때까지 부모 노드로 이동
4. 부모 노드로 계속 올라가면서 최소 공통조상 찾기
- 한번 더 이동하면 부모 노드가 2로 같아지므로 최소 공통 조상 결과 출력